# 1.ğŸ‹ç®€ä»‹

Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“

Dockerå¯ä»¥å°†é…ç½®å®Œæˆè½¯ä»¶çš„ç¼–è¯‘æˆä¸€ä¸ªé•œåƒç„¶åå‘å¸ƒå‡ºå»ï¼Œè¿™æ ·å…¶ä»–ä½¿ç”¨è€…å°±å¯ä»¥åœ¨ä»–ä»¬çš„Dockerä¸­ä½¿ç”¨è¿™ä¸ªå·²ç»é…ç½®å¥½çš„é•œåƒï¼Œä¸éœ€è¦é‡æ–°å®‰è£…å’Œé…ç½®

è¿è¡Œä¸­çš„é•œåƒè¢«ç§°ä¸ºå®¹å™¨ï¼Œå®¹å™¨å¯åŠ¨éå¸¸å¿«é€Ÿ

# 2.Dockeræ ¸å¿ƒæ¦‚å¿µ

- Dockerä¸»æœºï¼ˆHostï¼‰ï¼šå®‰è£…äº†Dockerç¨‹åºçš„æœºå™¨ï¼ˆDockerç›´æ¥å®‰è£…åœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼‰
- Dockerå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼šè¿æ¥Dockerä¸»æœºè¿›è¡Œæ“ä½œ
- Dockerä»“åº“ï¼ˆRegistryï¼‰ï¼šç”¨æ¥ä¿å­˜å„ç§æ‰“åŒ…å¥½çš„è½¯ä»¶é•œåƒ
- Dockeré•œåƒï¼ˆImagesï¼‰ï¼šæ‰“åŒ…å¥½çš„é•œåƒï¼Œæ”¾åœ¨Dockerä»“åº“ä¸­
- Dockerå®¹å™¨ï¼ˆContainerï¼‰ï¼šé•œåƒå¯åŠ¨ä»¥åçš„å®ä¾‹ç§°ä¸ºä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨æ—¶ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–è€…ä¸€ç»„å¼•ç”¨

ä½¿ç”¨Dockerçš„æ­¥éª¤ï¼š

1. å®‰è£…Docker
2. å»Dockerä»“åº“æ‰¾åˆ°è¿™ä¸ªè½¯ä»¶å¯¹åº”çš„é•œåƒ
3. ä½¿ç”¨Dockerè¿è¡Œè¿™ä¸ªé•œåƒï¼Œè¿™ä¸ªé•œåƒä¼šç”Ÿæˆä¸€ä¸ªDockerå®¹å™¨
4. å¯¹å®¹å™¨çš„å¯åŠ¨åœæ­¢å°±æ˜¯å¯¹è½¯ä»¶çš„å¯åŠ¨åœæ­¢

# 3.å®‰è£…Docker

[Ubuntuä¸‹å®‰è£…Docker](https://www.jianshu.com/p/7f920ca189ce)

å¼€æœºè‡ªåŠ¨å¯åŠ¨Docker

```shell
systemctl enable docker
```

# 4.å¸¸ç”¨æ“ä½œ

## é•œåƒæ“ä½œ

| æ“ä½œ | å‘½ä»¤                   | è¯´æ˜                          |
| ---- | ---------------------- | ----------------------------- |
| æ£€ç´¢ | docker search å…³é”®å­—   | åœ¨docker hubä¸­æ£€ç´¢é•œåƒä¿¡æ¯    |
| æ‹‰å– | docker pull é•œåƒå:tag | tagå¯é€‰ï¼Œä¸ºç‰ˆæœ¬å·ï¼Œé»˜è®¤latest |
| åˆ—è¡¨ | docker images          | æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ              |
| åˆ é™¤ | docker rmi image-id    | åˆ é™¤æŒ‡å®šçš„æœ¬åœ°é•œåƒ            |

## å®¹å™¨æ“ä½œ

è½¯ä»¶é•œåƒ--->è¿è¡Œé•œåƒ--->äº§ç”Ÿä¸€ä¸ªå®¹å™¨ï¼ˆæ­£åœ¨è¿è¡Œçš„è½¯ä»¶ï¼‰

| æ“ä½œ     | å‘½ä»¤                                                         | è¯´æ˜                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| è¿è¡Œ     | `docker run --name container-name -d image-name`<br/>`eg:docker run â€“name myredis â€“d redis` | --nameï¼šè‡ªå®šä¹‰å®¹å™¨å<br/>-dï¼šåå°è¿è¡Œ<br/>image-name:æŒ‡å®šé•œåƒæ¨¡æ¿ |
| åˆ—è¡¨     | `docker ps`ï¼ˆæŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨ï¼‰ï¼›                            | åŠ ä¸Š-aï¼›å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å®¹å™¨                                     |
| åœæ­¢     | `docker stop container-name/container-id`                    | åœæ­¢å½“å‰ä½ è¿è¡Œçš„å®¹å™¨                                         |
| å¯åŠ¨     | `docker start container-name/container-id`                   | å¯åŠ¨å®¹å™¨                                                     |
| åˆ é™¤     | `docker rm container-name/container-id`                      | åˆ é™¤å®¹å™¨                                                     |
| ç«¯å£æ˜ å°„ | -p 6379:6379<br/>`eg:docker run -d -p 6379:6379 --name myredis docker.io/redis` | -p:ä¸»æœºç«¯å£(æ˜ å°„åˆ°)å®¹å™¨å†…éƒ¨çš„ç«¯å£                            |
| å®¹å™¨æ—¥å¿— | `docker logs container-name/container-id`                    |                                                              |

-dï¼šå®¹å™¨ä¼šåœ¨åå°è¿è¡Œå¹¶ä¸ä¼šæŠŠè¾“å‡ºçš„ç»“æœ (STDOUT) æ‰“å°åˆ°å®¿ä¸»æœºä¸Šé¢(è¾“å‡ºç»“æœå¯ä»¥ç”¨ `docker logs` æŸ¥çœ‹ï¼‰

PSï¼šä¸€ä¸ªé•œåƒå¯ä»¥äº§ç”Ÿå¤šä¸ªå®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨å•ç‹¬è¿è¡Œï¼Œäº’ä¸å¹²æ‰°

# 5.é…ç½®Mysql

1. ä¸‹è½½é•œåƒ

   `docker pull mysql`

2. åˆ›å»ºæ•°æ®å·

   `docker volume create mysql-vol`
   
3. å¯åŠ¨å®¹å™¨ï¼Œå°†å®é™…è·¯å¾„è·Ÿæ•°æ®å·æ˜ å°„å¹¶å°†ä¸»æœºçš„3306è·Ÿå®¹å™¨çš„3306ç«¯å£æ˜ å°„

   ```shell
   docker run --rm -d -e MYSQL_ROOT_PASSWORD=123456 \
         -v mysql-vol:/var/lib/mysql \
         -p 3306:3306 mysql
   ```

   

