# 一.计算机系统漫游

## 1.1 编译过程

![](https://gitee.com/mrwater233/PictureHost/raw/master/2021/202111121632163.png)

1. 预处理阶段

   根据以字符`#`开头的命令，修改原始的C程序

2. 编译阶段

   将程序编译为汇编程序

3. 汇编阶段

   将`hello.s`翻译成机器语言指令

4. 链接阶段

   合并不同的`.o`文件，将他们合并成一个可执行文件

## 1.2 计算机的硬件组成

1. 总线

   他是贯穿整个系统的一组电子管道，他携带**信息字节**并负责在各个部件之间传递。

   通常总线被设计成传送定长的字节块（字），字的字节数是一个基本的系统参数。大多数机器字长要么是4个字节（32位），要么是8个字节（64位）

2. I/O设备

   I/O设备是系统与外界的联系通道

   每个I/O设备都通过一个**控制器**或**适配器**与I/O总线相连。控制器与适配器的区别在于他们的封装方式不同。

   - 控制器是I/O设备本身或者主板上的芯片组
   - 适配器则是插在主板插槽上的卡

   但无论如何功能都是在I/O总线和I/O设备之间传递信息

3. 主存

   主存是一个临时存储设备，在处理器执行程序时，用来存放程序和程序处理的数据

   - 物理上主存是一组动态存取存储器（DRAM）芯片组组成
   - 逻辑上主存是一个线性的字节数组

4. 处理器

   处理器用来解析（或执行）存储在主存中指令的引擎

   处理器的核心为程序计数器（PC），他是一个大小为一个字的寄存器，他始终指向主存中某条机器语言的指令

   CPU的一些操作：

   - 加载：从主存复制一个字节或者一个字到寄存器，覆盖寄存器原来的内容
   - 存储：从寄存器复制一个字节或者一个字到主存的某个位置，覆盖这个位置上的原内容
   - 操作：把两个寄存器的内容复制到ALU，ALU对这两个字做算术运算，并将结果放到一个寄存器中，覆盖寄存器中原来的内容
   - 跳转：从指令本身中抽取一个字，并将这个字复制到PC中，覆盖PC中原来的值

