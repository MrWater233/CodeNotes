## 匿名函数

```go
package main
 
import "fmt"
 
func main() {
	// case 1:
	getSum := func (num1 int, num2 int) int {
		return num1 + num2
	}(10,20)
	fmt.Println("getSum = ", getSum)
 
	//case 2:
	getSub := func(num1 int, num2 int) int{
		return num1-num2
	}
	res := getSub(10,20)
	fmt.Println("getSub = ", res)
}
```

结果：

```go
getSum =  30
getSub =  -10
```

## 闭包

闭包就是一个**函数**与**其相关的引用环境**的一个整体

```go
package main
 
import "fmt"
 
func addUpper() func(int)int {
	var n int = 10 //外部变量
	return func (x int) int { //匿名函数引用外部变量 构成闭包
		n += x
		return n
	}
}
func main() {
	myFun := addUpper()
	fmt.Println("1st close function", myFun(1))
	fmt.Println("2nd close function", myFun(2))
	fmt.Println("3rd close function", myFun(3))
}
```

结果：

```go
1st close function 11
2nd close function 13
3rd close function 16
```

可以理解为：**闭包是一个类，函数是操作，外部变量是字段**

## 参考

- https://blog.csdn.net/shenziheng1/article/details/99703480