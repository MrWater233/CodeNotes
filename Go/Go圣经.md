# 一.程序结构

## 1.1 命名

命名规则：

- 必须以一个**字母**或者**下划线**开头，后面可以跟任意的字母/数字/下划线

- 区分大小写

- 不能用关键字来命名

  Go中的关键字有25个

  ```go
  break      default       func     interface   select
  case       defer         go       map         struct
  chan       else          goto     package     switch
  const      fallthrough   if       range       type
  continue   for           import   return      var
  ```

此外还有30多个预定义的名字，比如`int`和`true`等，这些预定义的名字不是关键字，可以再定义来使用，但是还是要避免语义混乱。



名字开头的**字母大小写**决定了名字在**包外的可见性**

- 大写：是导出的，可以背外部的包访问
- 小写：包内使用的



Go推荐使用**驼峰式**命名

## 1.2 声明

Go语言四种类型的声明：

- `var`：变量
- `const`：常量
- `type`：类型
- `func`：函数实体



Go语言文件是以包的声明开始的，然后导入其他的依赖包

## 1.3 变量

变量声明的语法：

```go
var 变量名 类型 = 表达式
```

`类型`或`= 表达式`可以省略其中一个

- 如果省略了类型，那么就会通过表达式来推到类型信息

- 如果省略了表达式，那么将用零值初始化变量。各种类型对应的零值如下
  - 数值类型：`0`
  - 布尔类型：`false`
  - 字符串类型：`""`
  - 接口或者引用类型（`slice`、`map`、`chan`和函数）：`nil`
  - 数组或结构体等聚合类型：每个元素或者字段都对应该类型的零值



可以在一个声明语句中声明一组变量

```go
var i, j, k int                 // int, int, int
var b, f, s = true, 2.3, "four" // bool, float64, string
```

## 1.4 类型

类型声明语句可以创造一个新的类型名称，用来创造一个新的逻辑概念

```go
type 类型名 底层类型
```

类型声明语句一般放在包一级，如果创造的类型首字母大写，那么外部包也可以使用

我们创造的类型各种行为都是它底层类型所控制的



对于每一个类型`T`，都有一个对应的类型转换操作`T(x)`，用于将`x`转为`T`类型（如果`T`是**指针**类型，需要用小括号包裹，如`(*int)(0)`）。只有两个类型的底层基础类型相同时，才允许进行转换，或者两者都是指向相同底层结构的指针类型



我们可以给我们定义的类型增加`String`方法，当使用`fmt`包打印该类型时会优先使用该类型对应的`String`方法返回的结果

## 1.5 包和文件

包的目的是为了支持模块化、封装、单独编译和代码重用

每个包对应一个独立的名字空间



每个go文件的包声明前紧跟着的是包注释。通常包注释的第一句应该是包的功能概要说明。**一个包通常只有一个源文件有包注释**。

## 1.6 作用域

声明语句的作用域指的是源代码中可以有效使用这个名字的范围



作用域和生命周期：

- 作用域：对应源代码的文本区域，是一个编译时属性
- 生命周期：程序运行时便浪存在的有效时间段，在此期间他能被其他程序的其他部分所应用，是一个运行时概念

# 二.基础数据类型

## 2.1 整型

Go提供了有符号和无符号类型的整数运算

- 有符号：`int8`、`int16`、`int32`、`int32`
- 无符号：`uint8`、`uint16`、`uint32`、`uint64`

分别对应8、16、32、64bit大小的整数

除此之外还有`int`、`uint`，他们跟CPU平台机器字大小有关。

Unicode字符`rune`类型和`int32`等价；`byte`与`int8`类型等价。

最后还有一种无符号整数类型`uintptr`，没有指定具体的bit大小但是足以容纳指针

