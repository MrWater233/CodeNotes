> 定位能让盒子位置自由摆放或者固定在屏幕中，并且可以压住其他盒子
>
> 而浮动一般是让盒子无缝横向排布，用户横向布局

# 定位的组成

定位=定位模式+边偏移

- 定位模式：指定一个元素在文档中的定位方式
- 边偏移：决定元素的最终位置

## 定位模式

使用`position`属性

| 属性值     | 语义     | 是否脱标 | 移动位置           |
| ---------- | -------- | -------- | ------------------ |
| `static`   | 静态定位 | 否       | 不能使用边偏移     |
| `relative` | 相对定位 | 否       | 相对于自生移动位置 |
| `absolute` | 绝对定位 | 是       | 带有定位的父级     |
| `fixed`    | 固定定位 | 是       | 浏览器可视区       |
| `sticky`   | 粘性布局 | 否       | 浏览器可视区       |

## 边偏移

`top`、`bottom`、`left`、`right`四个属性

| 边偏移属性 | 示例          | 描述                                           |
| ---------- | ------------- | ---------------------------------------------- |
| `top`      | `top:80px`    | 顶端偏移量，定义元素相对于其父元素上边线的距离 |
| `bottom`   | `bottom:80px` | 底部偏移量，定义元素相对于其父元素下边线的距离 |
| `left`     | `left:80px`   | 左侧偏移量，定义元素相对于其父元素左边线的距离 |
| `right`    | `right:80px`  | 右侧偏移量，定义元素相对于其父元素右边线的距离 |

# 定位模式

## 静态定位

> 元素默认的定位方式，相当于无定位

```css
选择器 {position: static;}
```

- 按照标准流摆放位置，没有边偏移
- 在布局中很少使用

## 相对定位

> 元素在移动位置时，相对原来的位置来说的

```css
选择器 {position: relative;}
```

- 他是以自己原来的位置作为参照点进行移动
- 原来标准流的位置继续占有（不脱标）
- 相对定位的盒子会压住其他标准流盒子

## 绝对定位

> 元素移动位置相对于自己的祖先来说的

```css
选择器 {position: absolute;}
```

- 如果**没有祖先元素**或者**祖先元素没有定位**，则按照浏览器为准进行定位（浏览器窗口）
- 如果祖先元素有定位（相对，绝对，固定定位），则以最近一级有定位祖先元素为参照点移动位置
- 绝对定位不再占有原先位置（脱标）

## 固定定位

> 将元素固定为浏览器可视区的位置
>
> 可以实现页面滚动的时元素位置不发生变化

```css
选择器 {position: fixed}
```

- 以浏览器的可视窗口为参照点移动元素（跟父元素定位无任何关系）
- 不随滚动条滚动
- 固定定位不占有原先位置（脱标）

可以看作特殊的绝对定位

## 粘性定位

> 相对定位和固定定位的混合
>
> 粘性定位元素一开始是随着页面滚动而滚动的，而到了一定位置就会固定在浏览器窗口中

```css
选择器 {position: sticky; top: 10px;}
```

- 以浏览器可视窗口为参照点移动元素（固定定位特点）
- 占有原先位置（相对定位特点）
- 必须添加`top,bottom,left,right`中的一个才有效（不加就是普通的相对定位）

# 子绝父相

- 子级绝对定位，不会占有位置，可以放在父盒子的任意一个位置并且不会影响其他的兄弟盒子
- 父盒子需要加定位来限制子盒子在父盒子中的显示（绝对定位的特性）
- 父盒子布局时，需要占有位置，因此父盒子只能是相对定位

总结：父盒子需要占有位置，采用相对定位，子盒子在父盒子中随意摆放并且不占有位置，采用绝对定位

# 定位的叠放顺序

> 在使用**定位布局**的时候可能会出现**盒子重叠**的情况，此时需要指定盒子的先后顺序

```css
选择器 {z-index: 1;}
```

- 数值可以是正整数，负整数或0，默认时auto。数值越大，数值越靠上
- 如果属性值相同，按照书写顺序，后来者居上
- 只有定位的盒子才有`z-index`属性

# 拓展

## 固定定位放在版心右侧

> 让固定定位的盒子紧贴版心右侧，不随着浏览器的缩放而移动到别的地方

1. 让固定定位的盒子`left: 50%`，走到浏览器可视区域的一半（版心的一半）
2. 让固定定位的盒子`margin-left`为版心宽度的一半距离

## 绝对定位盒子居中对齐

> 加了绝对定位的盒子不能通过`margin:0 auto`水平居中，因为脱标了

水平居中：

1. 让绝对定位的盒子`left:50%`，让盒子左侧靠在父容器宽度的一半处
2. 设置`margin-left`为**子盒子**宽度一半的负值，即让子盒子向左移动宽度的一半

垂直居中：

1. 让绝对定位盒子`top:50%`
2. 设置`margin-top`为子盒子高度一半的负值，即让子盒子向上移动高度的一半

## 绝对（固定）定位会完全压住盒子

- 浮动元素会压住下面的标准流盒子，但是不会压住标准流盒子里面的文字（图片）

  因为浮动产生的目的就是做文字环绕的

  ![](https://raw.githubusercontent.com/MrWater233/PictureHost/master/20200716131246.png)

- 绝对（固定）定位会压住下面标准流的所有内容

  ![](https://raw.githubusercontent.com/MrWater233/PictureHost/master/20200716131351.png)

## 定位特殊特性

1. 行内元素添加**绝对**或者**固定**定位，可以直接设置**高度和宽度**
2. 块级元素添加绝对或者固定定位，如果不给高度和宽度，默认大小是**内容的大小**
3. 脱标的盒子不会 触发外边距塌陷（浮动，绝对定位，固定定位）